(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1386:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(331),l=a(797),i=a(1428),c=a(1377),u=(a(1454),["Image Processing","Image Registration","Object Localisation","Classification","Lesion Detection","Segmentation"]),m=a(406),s=["AR - Autorefraction","BDUS - Bone Densitometry (ultrasound)","BI - Biomagnetic imaging","BMD - Bone Densitometry (X-Ray)","CR - Computed Radiography","CT - Computed Tomography","DG - Diaphanography","DX - Digital Radiography","ECG - Electrocardiography","EPS - Cardiac Electrophysiology","ES - Endoscopy","FID - Fiducials","GM - General Microscopy","HD - Hemodynamic Waveform","IO - Intra-Oral Radiography","IOL - Intraocular Lens Data","IVOCT - Intravascular Optical Coherence Tomography","IVUS - Intravascular Ultrasound","KER - Keratometry","LEN - Lensometry","LS - Laser surface scan","MG - Mammography","MR - Magnetic Resonance","M3D - Model for 3D Manufacturing","NM - Nuclear Medicine","OAM - Ophthalmic Axial Measurements","OCT - Optical Coherence Tomography (non-Ophthalmic)","OP - Ophthalmic Photography","OPM - Ophthalmic Mapping","OPT - Ophthalmic Tomography","OPTBSV - Ophthalmic Tomography B-scan Volume Analysis","OPTENF - Ophthalmic Tomography En Face","OPV - Ophthalmic Visual Field","OSS - Optical Surface Scan","OT - Other","PT - Positron emission tomography (PET)","PX - Panoramic X-Ray","REG - Registration","RESP - Respiratory Waveform","RF - Radio Fluoroscopy","RG - Radiographic imaging (conventional film/screen)","RTIMAGE - Radiotherapy Image","RTRAD - RT Radiation","SEG - Segmentation","SM - Slide Microscopy","SMR - Stereometric Relationship","SRF - Subjective Refraction","STAIN - Automated Slide Stainer","TG - Thermography","US - Ultrasound","VA - Visual Acuity","XA - X-Ray Angiography","XC - External-camera Photography"],p=a(27),d=a(1432),f=a(19),h=a(67),v=a(9),g=a.n(v),E=a(31);function y(e,t,a,n,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(n,r)}function b(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var o=e.apply(t,a);function l(e){y(o,n,r,l,i,"next",e)}function i(e){y(o,n,r,l,i,"throw",e)}l(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function k(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  cursor: pointer;\n  padding: 10px 10px;\n  margin-right: 272px;\n  margin-left: 10px;\n  border-radius: 4px;\n  background-color: #646c74;\n  color: #fff;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #000000;\n    color: #fff;\n  }\n"]);return k=function(){return e},e}a.d(t,"NavBtnLink",(function(){return w}));var w=Object(d.b)(p.c)(k()),T=function(e){var t=e.max,a=e.value,n=S(e,["max","value"]);return r.a.createElement("div",{className:"k-form-field-wrap"},r.a.createElement(i.a,O({maxLength:t,rows:2},n)),a.length," / ",t)},N=function(e){var t=e.fieldType,a=S(e,["fieldType"]);return r.a.createElement("div",null,r.a.createElement(c.a,O({type:t},a)),r.a.createElement(R,a))},R=function(e){var t=e.valid,a=e.visited,n=e.validationMessage;return r.a.createElement(r.a.Fragment,null,!t&&a&&r.a.createElement("div",{className:"required"},n))},P=function(e){return e?"":"This field is required"};var A=Object(f.b)((function(e){return{user:e.auth.user}}),null)((function(e){var t=e.user,a=x(r.a.useState(""),2),i=a[0],c=a[1],p=x(r.a.useState(""),2),d=p[0],f=p[1],v=x(r.a.useState(""),2),y=v[0],O=v[1],S=x(r.a.useState(""),2),k=S[0],R=S[1],A=x(r.a.useState(""),2),C=A[0],M=A[1],G=x(r.a.useState(!1),2),D=G[0],I=G[1],F=x(Object(n.useState)(!1),2),j=F[0],B=F[1],L=function(){var e=b(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/model_delete/?algorithm=".concat(t),{headers:{"Content-Type":"multipart/form-data",Authorization:"JWT ".concat(localStorage.getItem("access"))}}).then((function(e){return e})).catch((function(e){return e.response}));case 2:200===e.sent.status?B(!0):E.b.error("Failed to overwrite! Please, try again.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){var t=e.closeToast,a=e.algorithm;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{fontSize:"14px",fontFamily:"Helvetica"}},'An algorithm with the name "',a,'" ',r.a.createElement("b",null,"already exists"),". Do you want to ",r.a.createElement("b",null,"overwrite")," it?"),r.a.createElement("div",null,r.a.createElement("button",{style:{fontSize:"14px",fontFamily:"Helvetica",display:"inline-block",margin:"7px",background:"#FFD700",borderRadius:"6px",padding:"8px 16px"},onClick:function(){return L(a)}},"Yes"),r.a.createElement("button",{style:{fontSize:"14px",fontFamily:"Helvetica",display:"inline-block",margin:"7px",background:"#FFD700","border-radius":"6px",padding:"8px 16px"},onClick:t},"No")))},z=function(){var e=b(regeneratorRuntime.mark((function e(a){var n,o,l,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/model/?user=".concat(t.email),{headers:{"Content-Type":"multipart/form-data",Authorization:"JWT ".concat(localStorage.getItem("access"))}}).then((function(e){return e})).catch((function(e){return e.response}));case 2:for(n=e.sent,o=!1,l=n.data,i=0;i<l.length;i++)l[i].name==a.name&&(c=l[i].name,o=!0,E.b.warn(r.a.createElement(V,{algorithm:c}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}));o||B(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"content"},r.a.createElement(o.a,{initialValues:{description:"",overview:"",architecture:"",performance:"",data:"",info:"",references:"",input:"",output:""},onSubmit:z,render:function(e){return r.a.createElement("form",{className:"formAlgorithm",onSubmit:e.onSubmit},r.a.createElement("h1",null,"Add Algorithm"),r.a.createElement("label",null,"Algorithm Name",r.a.createElement("p",{className:"tooltiptext"},"Unique identifier for the algorithm."),r.a.createElement(l.a,{className:"inputAlgorithm",name:"name",fieldType:"text",pattern:"[a-z-]+",component:N,validator:[P]})),r.a.createElement("label",null,"Version",r.a.createElement("p",{className:"tooltiptext"},"Version of the algorithm."),r.a.createElement(l.a,{className:"inputAlgorithm",name:"version",fieldType:"number",component:N,validator:[P]})),r.a.createElement("label",null,"Algorithm Overview",r.a.createElement("p",{className:"tooltiptext"},"Description of the algorithm."),r.a.createElement(l.a,{name:"overview",max:500,value:e.valueGetter("overview"),component:T,validator:[P]})),r.a.createElement("label",null,"Model Architecture",r.a.createElement("p",{className:"tooltiptext"},"Description of the architecture of the model."),r.a.createElement(l.a,{name:"architecture",max:500,value:e.valueGetter("architecture"),component:T,validator:[P]})),r.a.createElement("label",null,"Model Performance",r.a.createElement("p",{className:"tooltiptext"},"Performance of the model."),r.a.createElement(l.a,{name:"performance",max:500,value:e.valueGetter("performance"),component:T,validator:[P]})),r.a.createElement("label",null,"Data Description",r.a.createElement("p",{className:"tooltiptext"},"Description of the used dataset."),r.a.createElement(l.a,{name:"data",max:500,value:e.valueGetter("data"),component:T,validator:[P]})),r.a.createElement("label",null,"Input",r.a.createElement("p",{className:"tooltiptext"},"Description of the input of the model."),r.a.createElement(l.a,{name:"input",max:500,value:e.valueGetter("input"),component:T,validator:[P]})),r.a.createElement("label",null,"Output",r.a.createElement("p",{className:"tooltiptext"},"Description of the output of the model."),r.a.createElement(l.a,{name:"output",max:500,value:e.valueGetter("output"),component:T,validator:[P]})),r.a.createElement("label",null,"References ",r.a.createElement("i",null,"(Optional)"),r.a.createElement("p",{className:"tooltiptext"},"Possible references."),r.a.createElement(l.a,{name:"references",max:500,optional:"true",value:e.valueGetter("references"),component:T,validator:[]})),r.a.createElement("label",null,"Additional Information ",r.a.createElement("i",null,"(Optional)"),r.a.createElement("p",{className:"tooltiptext"},"Possible extra information."),r.a.createElement(l.a,{name:"info",max:500,optional:"true",value:e.valueGetter("info"),component:T,validator:[]})),r.a.createElement("label",null,"Input Extension",r.a.createElement("p",{className:"tooltiptext"},"Extension of the input provided to the algorithm."),r.a.createElement("select",{className:"selectAlgorithm",name:"inputExtension",value:y,onChange:function(e){return O(e.target.value)},required:!0},r.a.createElement("option",{key:""}),[".dcm",".nii.gz"].map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",null,"Input DICOM Modality",r.a.createElement("p",{className:"tooltiptext"},"The modality of the provided input."),r.a.createElement("select",{className:"selectAlgorithm",name:"inputModality",value:C,onChange:function(e){return M(e.target.value)},required:!0},r.a.createElement("option",{key:""}),s.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",null,"Task",r.a.createElement("p",{className:"tooltiptext"},"Task performed."),r.a.createElement("select",{className:"selectAlgorithm",name:"task",value:i,onChange:function(e){return c(e.target.value)},required:!0},r.a.createElement("option",{key:""}),u.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",null,"Body Part Examined",r.a.createElement("p",{className:"tooltiptext"},"Text description of the part of the body examined."),r.a.createElement("select",{className:"selectAlgorithm",name:"bodyPart",value:d,onChange:function(e){return f(e.target.value)},required:!0},r.a.createElement("option",{key:""}),Object.keys(m.a).map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",null,"Framework",r.a.createElement("p",{className:"tooltiptext"},"Machine Learning Framework used."),r.a.createElement("select",{className:"selectAlgorithm",name:"framework",value:k,onChange:function(e){return R(e.target.value)},required:!0},r.a.createElement("option",{key:""}),["Pytorch","Monai","Tensorflow","Keras","Scikit-Learn","H20","Spark","Other"].map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("label",null,"Unrestricted: Public to every user",r.a.createElement("p",{className:"tooltiptext"},"Visibility of the algorithm."),r.a.createElement("input",{className:"inputAlgorithm",name:"visibility",type:"checkbox",onChange:function(){I(0==D)}})),r.a.createElement("div",{className:"btn-group"},r.a.createElement(w,{to:"/"},"Cancel"),r.a.createElement("button",{disabled:!e.allowSubmit},"Create")),j?r.a.createElement(h.a,{to:{pathname:"/editor",state:{name:e.valueGetter("name"),version:e.valueGetter("version"),algorithm_overview:e.valueGetter("overview"),model_architecture:e.valueGetter("architecture"),model_performance:e.valueGetter("performance"),data_description:e.valueGetter("data"),input:e.valueGetter("input"),output:e.valueGetter("output"),references:e.valueGetter("references"),additional_info:e.valueGetter("info"),user:t.email,task:i,inputExtension:y,inputModality:C,visibility:D,framework:k,bodyPart:d}}}):r.a.createElement(n.Fragment,null))}}),r.a.createElement(E.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}));t.default=A},1454:function(e,t,a){}}]);
//# sourceMappingURL=9.bundle.19c1dc7000afbfbb7606.js.map