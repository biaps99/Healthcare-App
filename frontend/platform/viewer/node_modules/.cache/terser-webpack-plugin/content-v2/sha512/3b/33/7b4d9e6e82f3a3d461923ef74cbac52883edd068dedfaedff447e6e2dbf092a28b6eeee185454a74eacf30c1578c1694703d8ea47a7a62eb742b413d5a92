{"map":"{\"version\":3,\"sources\":[\"0.bundle.1df73d230c2470e6acf0.js\"],\"names\":[\"window\",\"push\",\"1418\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"es\",\"react\",\"react_default\",\"n\",\"prop_types\",\"prop_types_default\",\"classnames\",\"classnames_default\",\"src\",\"DICOMSR\",\"MODULE_TYPES\",\"ui_src\",\"moment\",\"moment_default\",\"dist_es\",\"App\",\"cornerstoneTools\",\"cornerstoneTools_default\",\"lodash_clonedeep\",\"lodash_clonedeep_default\",\"scrollToIndex\",\"toolImport\",\"a\",\"import\",\"setViewportSpecificData\",\"redux\",\"actions\",\"connectedComponents_ConnectedCineDialog\",\"Object\",\"state\",\"_state$viewports\",\"viewports\",\"cine\",\"viewportSpecificData\",\"activeViewportIndex\",\"activeEnabledElement\",\"runCommand\",\"activeViewportCineData\",\"isPlaying\",\"cineFrameRate\",\"dispatch\",\"dispatchSetViewportSpecificData\",\"viewportIndex\",\"data\",\"propsFromState\",\"propsFromDispatch\",\"ownProps\",\"onPlayPauseChanged\",\"onFrameRateChanged\",\"frameRate\",\"onClickNextButton\",\"stackData\",\"getToolState\",\"length\",\"_stackData$data$\",\"currentImageIdIndex\",\"imageIds\",\"onClickBackButton\",\"onClickSkipToStart\",\"onClickSkipToEnd\",\"lastIndex\",\"_OHIF$redux$actions\",\"setLayout\",\"setViewportActive\",\"connectedComponents_ConnectedLayoutButton\",\"currentLayout\",\"layout\",\"onChange\",\"selectedCell\",\"numRows\",\"row\",\"numColumns\",\"col\",\"numViewports\",\"i\",\"viewport\",\"plugin\",\"vtk\",\"onChangeFromDispatch\",\"AppContext\",\"_toConsumableArray\",\"arr\",\"Array\",\"isArray\",\"arr2\",\"_arrayWithoutHoles\",\"iter\",\"Symbol\",\"iterator\",\"prototype\",\"toString\",\"call\",\"from\",\"_iterableToArray\",\"TypeError\",\"_nonIterableSpread\",\"_typeof\",\"obj\",\"constructor\",\"_defineProperties\",\"target\",\"props\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"defineProperty\",\"key\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_assertThisInitialized\",\"self\",\"ReferenceError\",\"_setPrototypeOf\",\"p\",\"_defineProperty\",\"value\",\"ToolbarRow_ToolbarRow\",\"_Component\",\"ToolbarRow\",\"_this2\",\"instance\",\"Constructor\",\"_classCallCheck\",\"this\",\"dialog\",\"_this2$state\",\"dialogId\",\"activeButtons\",\"toolbarButtons\",\"find\",\"button\",\"options\",\"behavior\",\"dismiss\",\"id\",\"filter\",\"setState\",\"toolbarButtonDefinitions\",\"_getVisibleToolbarButtons\",\"seriesPerStudyCount\",\"_handleBuiltIn\",\"bind\",\"_onDerivedDisplaySetsLoadedAndCached\",\"updateButtonGroups\",\"protoProps\",\"staticProps\",\"subClass\",\"superClass\",\"create\",\"_inherits\",\"_this3\",\"panelModules\",\"modules\",\"PANEL\",\"buttonGroups\",\"left\",\"right\",\"forEach\",\"panelExtension\",\"panelModule\",\"defaultContexts\",\"defaultContext\",\"menuOptions\",\"menuOption\",\"contexts\",\"context\",\"hasActiveContext\",\"activeContexts\",\"some\",\"actx\",\"includes\",\"isDisabled\",\"studies\",\"activeViewport\",\"menuOptionEntry\",\"icon\",\"bottomLabel\",\"label\",\"badgeNumber\",\"stateEvent\",\"document\",\"addEventListener\",\"removeEventListener\",\"prevProps\",\"activeContextsChanged\",\"prevStudies\",\"prevActiveViewport\",\"shouldUpdate\",\"series\",\"closeCineDialogIfNotApplicable\",\"_this4\",\"buttonComponents\",\"_getButtonComponents\",\"onPressRight\",\"side\",\"handleSidePanelChange\",\"createElement\",\"Fragment\",\"className\",\"style\",\"marginLeft\",\"selectedRightSidePanel\",\"onValueChanged\",\"_getCustomButtonComponent\",\"CustomComponent\",\"activeButtonsIds\",\"map\",\"isActive\",\"parentContext\",\"toolbarClickCallback\",\"_handleToolbarButtonClick\",\"_getExpandableButtonComponent\",\"activeCommand\",\"_this5\",\"childButtons\",\"buttons\",\"childButton\",\"onClick\",\"indexOf\",\"onGroupMenuClick\",\"openMeasurementsPanel\",\"openSegmentationPanel\",\"_getDefaultButtonComponent\",\"_this\",\"hasCustomComponent\",\"hasNestedButtonDefinitions\",\"evt\",\"commandName\",\"assign\",\"commandOptions\",\"type\",\"toggables\",\"_ref\",\"togglable\",\"concat\",\"_this6\",\"toolbarModules\",\"TOOLBAR\",\"extension\",\"_extension$module\",\"definitions\",\"definition\",\"measurementButtons\",\"el\",\"moreSection\",\"moreSectionButtons\",\"otherButtons\",\"newMeasurementsButton\",\"newMoreButton\",\"index\",\"splice\",\"_this$props\",\"t\",\"_document$querySelect\",\"querySelector\",\"getBoundingClientRect\",\"x\",\"y\",\"newDialogId\",\"content\",\"defaultPosition\",\"title\",\"isLeftSidePanelOpen\",\"bool\",\"isRequired\",\"isRightSidePanelOpen\",\"selectedLeftSidePanel\",\"string\",\"func\",\"arrayOf\",\"array\",\"any\",\"modal\",\"connectedComponents_ToolbarRow_0\",\"StudyBrowser\",\"setActiveViewportSpecificData\",\"connectedComponents_ConnectedStudyBrowser\",\"onThumbnailClick\",\"displaySetInstanceUID\",\"displaySet\",\"studyMetadata\",\"reduce\",\"all\",\"current\",\"currentDisplaySet\",\"displaySets\",\"ds\",\"findDisplaySetByUID\",\"_servicesManager$serv\",\"services\",\"LoggerService\",\"UINotificationService\",\"isDerived\",\"Modality\",\"_displaySet$getSource\",\"getSourceDisplaySet\",\"error\",\"message\",\"show\",\"autoClose\",\"referencedDisplaySet\",\"activatedLabelmapPromise\",\"then\",\"activatedLabelmapIndex\",\"selectionFired\",\"CustomEvent\",\"detail\",\"dispatchEvent\",\"Error\",\"_error\",\"isSOPClassUIDSupported\",\"_error2\",\"ConnectedViewerMain\",\"SidePanel_SidePanel\",\"isOpen\",\"children\",\"width\",\"fromSideClass\",\"styles\",\"maxWidth\",\"marginRight\",\"Number\",\"parseInt\",\"is-open\",\"propTypes\",\"node\",\"components_SidePanel_0\",\"ErrorBoundaryDialog\",\"enums\",\"classes\",\"utils\",\"cornerstone\",\"cornerstone_default\",\"StudyPrefetcher_StudyPrefetcher\",\"studyPrefetcher\",\"StudyPrefetcher\",\"getInstance\",\"studiesMetadata\",\"s\",\"studyMetadataManager\",\"get\",\"StudyInstanceUID\",\"setStudies\",\"onNewImage\",\"_ref2\",\"image\",\"imageId\",\"_studiesMetadata\",\"getDisplaySets\",\"addDisplaySet\",\"study\",\"getStudy\",\"getSeries\",\"getDisplaySetBySOPInstanceUID\",\"prefetch\",\"element\",\"onElementEnabled\",\"_ref3\",\"EVENTS\",\"NEW_IMAGE\",\"events\",\"ELEMENT_ENABLED\",\"destroy\",\"shape\",\"enabled\",\"order\",\"displaySetCount\",\"number\",\"preventCache\",\"prefetchDisplaySetsTimeout\",\"includeActiveDisplaySet\",\"defaultProps\",\"components_StudyPrefetcher_0\",\"StudyLoadingListener\",\"components_StudyLoadingMonitor\",\"studyLoadingListener\",\"clear\",\"addStudies\",\"asyncGeneratorStep\",\"gen\",\"resolve\",\"reject\",\"_next\",\"_throw\",\"arg\",\"info\",\"done\",\"Promise\",\"_asyncToGenerator\",\"fn\",\"args\",\"arguments\",\"apply\",\"err\",\"undefined\",\"Viewer_typeof\",\"Viewer_defineProperties\",\"Viewer_getPrototypeOf\",\"Viewer_assertThisInitialized\",\"Viewer_setPrototypeOf\",\"Viewer_defineProperty\",\"Viewer_Viewer\",\"Viewer\",\"Viewer_classCallCheck\",\"thumbnails\",\"openMeasurements\",\"log\",\"earliestDate\",\"Date\",\"toISOString\",\"latestDate\",\"StudyDate\",\"timepointType\",\"timepointId\",\"studyInstanceUIDs\",\"PatientID\",\"isLocked\",\"timepointData\",\"query\",\"timepointIds\",\"timepoints\",\"onTimepointsUpdated\",\"measurements\",\"onMeasurementsUpdated\",\"activeServer\",\"server\",\"external\",\"servicesManager\",\"MeasurementApi\",\"setConfiguration\",\"dataExchange\",\"retrieve\",\"retrieveMeasurements\",\"store\",\"storeMeasurements\",\"TimepointApi\",\"retrieveTimepoints\",\"storeTimepoints\",\"remove\",\"removeTimepoint\",\"update\",\"updateTimepoint\",\"disassociate\",\"disassociateStudy\",\"_getActiveViewport\",\"Viewer_inherits\",\"dismissAll\",\"_updateThumbnails\",\"isStudyLoaded\",\"reload\",\"isNrrdImage\",\"location\",\"_OHIF$measurements\",\"timepointApi\",\"measurementApi\",\"currentTimepointId\",\"activeDisplaySetInstanceUID\",\"_mapStudiesToThumbnails\",\"_this$props2\",\"prevActiveDisplaySetInstanceUID\",\"_this$props3\",\"VisiblePanelRight\",\"panelExt\",\"components\",\"comp\",\"component\",\"VisiblePanelLeft\",\"_openMeasurementsPanel\",\"selectedPanel\",\"sideClicked\",\"toUpperCase\",\"slice\",\"openKey\",\"selectedKey\",\"updatedState\",\"prevSelectedPanel\",\"isSameSelectedPanel\",\"Consumer\",\"activeIndex\",\"appContext\",\"appConfig\",\"showThumbnailProgressBar\",\"displayProgress\",\"getActiveViewport\",\"SeriesDescription\",\"SeriesNumber\",\"InstanceNumber\",\"numImageFrames\",\"images\",\"getImageId\",\"wadoRoot\",\"object\",\"connectedComponents_Viewer_0\",\"_checkForDerivedDisplaySets\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"derivedDisplaySetsNumber\",\"derivedDisplaySets\",\"wrap\",\"_context\",\"prev\",\"next\",\"getDerivedDatasets\",\"referencedSeriesInstanceUID\",\"SeriesInstanceUID\",\"abrupt\",\"stop\",\"_x\",\"_x2\",\"_checkForSeriesInconsistencesWarnings\",\"_callee2\",\"inconsistencyWarnings\",\"_context2\",\"reconstructionIssues\",\"warning\",\"DATASET_4D\",\"VARYING_IMAGESDIMENSIONS\",\"VARYING_IMAGESCOMPONENTS\",\"VARYING_IMAGESORIENTATION\",\"IRREGULAR_SPACING\",\"MULTIFFRAMES\",\"missingFrames\",\"warn\",\"loadError\",\"segLoadErrorMessagge\",\"_x3\",\"_isDisplaySetActive\",\"active\",\"_referencedDisplaySet\",\"imageIndex\",\"Math\",\"floor\",\"hasWarnings\",\"hasDerivedDisplaySets\",\"altImageText\",\"ConnectedViewer_OHIF$redux$actions\",\"setTimepoints\",\"setMeasurements\",\"getActiveServer\",\"servers\",\"ConnectedViewer\",\"1422\",\"exports\",\"1423\",\"esm\",\"_slicedToArray\",\"_arrayWithHoles\",\"_arr\",\"_n\",\"_d\",\"_e\",\"_s\",\"_i\",\"_iterableToArrayLimit\",\"_nonIterableRest\",\"ViewportPane_ViewportPane\",\"onDrop\",\"propClassName\",\"_useDrop2\",\"accept\",\"drop\",\"droppedItem\",\"monitor\",\"canDrop\",\"isOver\",\"collect\",\"highlighted\",\"hovered\",\"_useDrop2$\",\"ref\",\"data-cy\",\"components_ViewportGrid_ViewportPane\",\"EmptyViewport\",\"EmptyViewport_default\",\"loadAndCacheDerivedDisplaySets\",\"ViewportGrid_ViewportGrid_ViewportGrid\",\"availablePlugins\",\"defaultPluginName\",\"defaultPlugin\",\"setViewportData\",\"viewportData\",\"rowSize\",\"colSize\",\"snackbar\",\"logger\",\"ViewportPanes\",\"useMemo\",\"pluginName\",\"ViewportComponent\",\"JSON\",\"stringify\",\"_getViewportComponent\",\"display\",\"gridTemplateRows\",\"gridTemplateColumns\",\"height\",\"supportsDrop\",\"DefaultViewport\",\"React\",\"components_ViewportGrid_ViewportGrid\",\"memoize\",\"memoize_default\",\"getAvailableViewportModules\",\"viewportModules\",\"availableViewportModules\",\"moduleDefinition\",\"extensionId\",\"ViewportGrid_ConnectedViewportGrid\",\"VIEWPORT\",\"values\",\"values_default\",\"larvitar\",\"ViewerMain_values\",\"ViewerMain_ViewerMain\",\"ViewerMain\",\"dirtyViewportPanes\",\"viewportPane\",\"foundDisplaySet\",\"v\",\"vp\",\"findDisplaySet\",\"registerNRRDImageLoader\",\"dSet\",\"fillEmptyViewportPanes\",\"prevViewportAmount\",\"viewportAmount\",\"isVtk\",\"keys\",\"clearViewportSpecificData\",\"connectedComponents_ViewerMain_0\",\"_setViewportSpecificData\",\"_clearViewportSpecificData\",\"1424\",\"cornerstoneWADOImageLoader_min\",\"cornerstoneWADOImageLoader_min_default\",\"FileLoader\",\"file\",\"dataset\",\"pdfFileLoader_defineProperties\",\"pdfFileLoader\",\"_FileLoader\",\"_temp\",\"_getPrototypeOf2\",\"pdfFileLoader_classCallCheck\",\"_len\",\"_key\",\"wadouri\",\"loadFileRequest\",\"getDefaultStudy\",\"StudyTime\",\"AccessionNumber\",\"ReferringPhysicianName\",\"PatientName\",\"PatientBirthdate\",\"PatientSex\",\"StudyId\",\"StudyDescription\",\"instances\",\"metadata\",\"SOPInstanceUID\",\"SOPClassUID\",\"Rows\",\"Columns\",\"NumberOfFrames\",\"isLocalFile\",\"dcmjs_es\",\"dicomFileLoader_typeof\",\"dicomFileLoader_defineProperties\",\"dicomFileLoader_getPrototypeOf\",\"dicomFileLoader_assertThisInitialized\",\"dicomFileLoader_setPrototypeOf\",\"metadataProvider\",\"dicomFileLoader\",\"dicomFileLoader_classCallCheck\",\"dicomFileLoader_inherits\",\"dicomData\",\"DicomMessage\",\"readFile\",\"DicomMetaDictionary\",\"naturalizeDataset\",\"dict\",\"addInstance\",\"_meta\",\"namifyDataset\",\"meta\",\"e\",\"console\",\"getStudyFromDataset\",\"PatientBirthDate\",\"StudyID\",\"url\",\"fileLoaderService_typeof\",\"ownKeys\",\"enumerableOnly\",\"getOwnPropertySymbols\",\"symbols\",\"sym\",\"getOwnPropertyDescriptor\",\"fileLoaderService_defineProperties\",\"fileLoaderService_getPrototypeOf\",\"fileLoaderService_assertThisInitialized\",\"fileLoaderService_setPrototypeOf\",\"fileLoaderService_defineProperty\",\"localFileLoaders_fileLoaderService\",\"FileLoaderService\",\"fileLoaderService_classCallCheck\",\"fileType\",\"loader\",\"getLoader\",\"fileLoaderService_inherits\",\"groupBy\",\"list\",\"groupByKey\",\"listKey\",\"nonKeyCounter\",\"acc\",\"_acc$key$listKey\",\"source\",\"getOwnPropertyDescriptors\",\"defineProperties\",\"_objectSpread\",\"studyGroup\",\"seriesGrouped\",\"fileManager\",\"add\",\"loadFile\",\"getDataset\",\"getStudies\",\"d\",\"filesToStudies\",\"processFile\",\"fileLoaderService\",\"addFile\",\"sent\",\"t0\",\"name\",\"_filesToStudies\",\"files\",\"processFilesPromises\",\"groupSeries\",\"flat\",\"1426\",\"UIModalService\",\"ErrorBoundaryDialog_ErrorBoundaryDialog_ErrorBoundaryDialog\",\"fallbackComponent\",\"role\",\"onError\",\"componentStack\",\"_useState2\",\"open\",\"setOpen\",\"opened\",\"components_ErrorBoundaryDialog_ErrorBoundaryDialog\",\"1429\",\"1430\",\"1431\",\"1432\",\"1433\",\"1434\",\"1435\",\"1436\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1418:function(e,t,n){\"use strict\";var r=n(19),i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(28),c=n.n(u),l=n(22),p=n(396),d=n(760),f=n(10),m=n(6),v=n.n(m),y=n(98),h=(n(1429),n(259)),g=n(4),b=n.n(g),S=n(63),w=n.n(S),I=(0,b.a.import)(\"util/scrollToIndex\"),D=l.a.redux.actions.setViewportSpecificData,E=Object(r.b)((function(e){var t=e.viewports,n=(t.viewportSpecificData[t.activeViewportIndex]||{}).cine;return{activeEnabledElement:h.a.runCommand(\"getActiveViewportEnabledElement\"),activeViewportCineData:n||{isPlaying:!1,cineFrameRate:24},activeViewportIndex:e.viewports.activeViewportIndex}}),(function(e){return{dispatchSetViewportSpecificData:function(t,n){e(D(t,n))}}}),(function(e,t,n){var r=e.activeEnabledElement,i=e.activeViewportCineData,a=e.activeViewportIndex;return{cineFrameRate:i.cineFrameRate,isPlaying:i.isPlaying,onPlayPauseChanged:function(e){var n=w()(i);n.isPlaying=!n.isPlaying,t.dispatchSetViewportSpecificData(a,{cine:n})},onFrameRateChanged:function(e){var n=w()(i);n.cineFrameRate=e,t.dispatchSetViewportSpecificData(a,{cine:n})},onClickNextButton:function(){var e=b.a.getToolState(r,\"stack\");if(e&&e.data&&e.data.length){var t=e.data[0],n=t.currentImageIdIndex;n>=t.imageIds.length-1||I(r,n+1)}},onClickBackButton:function(){var e=b.a.getToolState(r,\"stack\");if(e&&e.data&&e.data.length){var t=e.data[0].currentImageIdIndex;0!==t&&I(r,t-1)}},onClickSkipToStart:function(){var e=b.a.getToolState(r,\"stack\");e&&e.data&&e.data.length&&I(r,0)},onClickSkipToEnd:function(){var e=b.a.getToolState(r,\"stack\");if(e&&e.data&&e.data.length){var t=e.data[0].imageIds.length-1;I(r,t)}}}}))(f.a),O=l.a.redux.actions,P=O.setLayout,R=O.setViewportActive,T=Object(r.b)((function(e){return{currentLayout:e.viewports.layout,activeViewportIndex:e.viewports.activeViewportIndex}}),(function(e){return{onChange:function(t,n,r){for(var i=[],a=t.row+1,o=t.col+1,s=a*o,u=0;u<s;u++){var c=n.viewports[u],l=c&&c.plugin;c&&c.vtk&&(l=\"cornerstone\"),i.push({plugin:l})}var p={numRows:a,numColumns:o,viewports:i};r>s-1&&e(R(0)),e(P(p))}}}),(function(e,t){var n=t.onChange,r=e.currentLayout,i=e.activeViewportIndex;return{onChange:function(e){return n(e,r,i)}}}))(f.h),C=n(111);function x(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function j(e){return(j=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(e){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,i=U(t).call(this,e),n=!i||\"object\"!==j(i)&&\"function\"!=typeof i?A(r):i,V(A(n),\"closeCineDialogIfNotApplicable\",(function(){var e=n.props.dialog,t=n.state,r=t.dialogId,i=t.activeButtons,a=t.toolbarButtons;r&&(a.find((function(e){return e.options&&\"CINE\"===e.options.behavior}))||(e.dismiss({id:r}),i=i.filter((function(e){return e.options&&\"CINE\"!==e.options.behavior})),n.setState({dialogId:null,activeButtons:i})))}));var a=G.call(A(n));return n.state={toolbarButtons:a,activeButtons:[]},n.seriesPerStudyCount=[],n._handleBuiltIn=W.bind(A(n)),n._onDerivedDisplaySetsLoadedAndCached=n._onDerivedDisplaySetsLoadedAndCached.bind(A(n)),n.updateButtonGroups(),n}var n,r,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),n=t,(r=[{key:\"updateButtonGroups\",value:function(){var e=this,t=h.c.modules[d.a.PANEL];this.buttonGroups={left:[],right:[]},t.forEach((function(t){var n=t.module,r=Array.from(n.defaultContext);n.menuOptions.forEach((function(t){var n=Array.from(t.context||r),i=e.props.activeContexts.some((function(e){return n.includes(e)})),a=\"function\"==typeof t.isDisabled&&t.isDisabled(e.props.studies,e.props.activeViewport);if(i&&!a){var o={value:t.target,icon:t.icon,bottomLabel:t.label,badgeNumber:t.badgeNumber,stateEvent:t.stateEvent},s=t.from||\"right\";e.buttonGroups[s].push(o)}}))}))}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"deriveddisplaysetsloadedandcached\",this._onDerivedDisplaySetsLoadedAndCached)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"deriveddisplaysetsloadedandcached\",this._onDerivedDisplaySetsLoadedAndCached)}},{key:\"_onDerivedDisplaySetsLoadedAndCached\",value:function(){this.updateButtonGroups(),this.setState({toolbarButtons:G.call(this)})}},{key:\"componentDidUpdate\",value:function(e){var t=e.activeContexts!==this.props.activeContexts,n=e.studies,r=e.activeViewport,i=this.props.activeViewport,a=this.props.studies,o=this.seriesPerStudyCount,s=!1;if(n.length!==a.length||r!==i)s=!0;else for(var u=0;u<a.length;u++)if(a[u].series.length!==o[u]){o[u]=a[u].series.length,s=!0;break}s&&this.updateButtonGroups(),t&&this.setState({toolbarButtons:G.call(this)},this.closeCineDialogIfNotApplicable)}},{key:\"render\",value:function(){var e=this,t=q.call(this,this.state.toolbarButtons,this.state.activeButtons),n=function(t,n){e.props.handleSidePanelChange(t,n)}.bind(this,\"right\");return a.a.createElement(a.a.Fragment,null,a.a.createElement(\"div\",{className:\"ToolbarRow\"},t,a.a.createElement(T,null),a.a.createElement(\"div\",{className:\"pull-right m-t-1 rm-x-1\",style:{marginLeft:\"auto\"}},this.buttonGroups.right.length&&a.a.createElement(f.n,{options:this.buttonGroups.right,value:this.props.selectedRightSidePanel||\"\",onValueChanged:n}))))}}])&&k(n.prototype,r),i&&k(n,i),t}(i.Component);function _(e,t){var n=e.CustomComponent;if(\"function\"==typeof n){var r=t.map((function(e){return e.id})),i=r.includes(e.id);return a.a.createElement(n,{parentContext:this,toolbarClickCallback:F.bind(this),button:e,key:e.id,activeButtons:r,isActive:i})}}function L(e,t){var n,r=this,i=e.buttons.map((function(e){return e.onClick=F.bind(r,e),t.map((function(e){return e.id})).indexOf(e.id)>-1&&(n=e.id),e}));return\"Annotations\"===e.id?a.a.createElement(f.f,{key:e.id,label:e.label,icon:e.icon,buttons:i,activeCommand:n,onGroupMenuClick:this.props.openMeasurementsPanel}):\"SegTools\"===e.id?a.a.createElement(f.f,{key:e.id,label:e.label,icon:\"inline-edit\",buttons:i,activeCommand:n,onGroupMenuClick:this.props.openSegmentationPanel}):a.a.createElement(f.f,{key:e.id,label:e.label,icon:e.icon,buttons:i,activeCommand:n})}function B(e,t){return a.a.createElement(f.A,{key:e.id,label:e.label,icon:e.icon,onClick:F.bind(this,e),isActive:t.map((function(e){return e.id})).includes(e.id)})}function q(e,t){var n=this;return e.map((function(e){var r=e.CustomComponent,i=e.buttons&&e.buttons.length;return r?_.call(n,e,t):i?L.call(n,e,t):B.call(n,e,t)}))}function F(e,t,n){var r=this.state.activeButtons;if(e.commandName){var i=Object.assign({evt:t},e.commandOptions);h.a.runCommand(e.commandName,i)}if(\"setToolActive\"===e.type){var a=r.filter((function(e){var t=e.options;return t&&!t.togglable}));this.setState({activeButtons:[].concat(x(a),[e])})}else\"builtIn\"===e.type&&this._handleBuiltIn(e)}function G(){var e=this,t=h.c.modules[d.a.TOOLBAR],n=[];t.forEach((function(t){var r=t.module,i=r.definitions,a=r.defaultContext;i.forEach((function(t){var r=t.context||a;e.props.activeContexts.includes(r)&&n.push(t)}))}));var r=n.filter((function(e){return\"Length\"===e.id||\"ArrowAnnotate\"===e.id||\"Angle\"===e.id})),i=n.filter((function(e){return\"More\"===e.id}));if(0!==i.length){var a=i[0].buttons.filter((function(e){return\"EllipticalRoi\"===e.id||\"RectangleRoi\"===e.id||\"Clear\"===e.id||\"Download\"===e.id||\"Bidirectional\"===e.id})),o=i[0].buttons.filter((function(e){return\"EllipticalRoi\"!==e.id&&\"RectangleRoi\"!==e.id&&\"Clear\"!==e.id&&\"Download\"!==e.id&&\"Bidirectional\"!==e.id})),s={id:\"Annotations\",label:\"Measurements\",icon:\"measure-target\",buttons:r.concat(a)},u={id:\"MoreTwo\",label:\"More\",icon:\"ellipse-circle\",buttons:o};n.push(s),r.map((function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1);var r=n.indexOf(i[0]);-1!==r&&n.splice(r,1,u)}))}return n}function W(e){var t=this.props,n=t.dialog,r=t.t,i=this.state.dialogId,a=e.id,o=e.options;if(\"CINE\"===o.behavior)if(i)n.dismiss({id:i}),this.setState((function(e){return{dialogId:null,activeButtons:x(e.activeButtons.filter((function(e){return e.id!==a})))}}));else{var s=document.querySelector(\".ViewerMain\").getBoundingClientRect(),u=s.x,c=s.y,l=n.create({content:E,defaultPosition:{x:u+20||0,y:c+20||0}});this.setState((function(t){return{dialogId:l,activeButtons:[].concat(x(t.activeButtons),[e])}}))}\"DOWNLOAD_SCREEN_SHOT\"===o.behavior&&h.a.runCommand(\"showDownloadViewportModal\",{title:r(\"Download High Quality Image\")})}V(N,\"propTypes\",{isLeftSidePanelOpen:s.a.bool.isRequired,isRightSidePanelOpen:s.a.bool.isRequired,selectedLeftSidePanel:s.a.string.isRequired,selectedRightSidePanel:s.a.string.isRequired,handleSidePanelChange:s.a.func.isRequired,openMeasurementsPanel:s.a.func.isRequired,openSegmentationPanel:s.a.func.isRequired,activeContexts:s.a.arrayOf(s.a.string).isRequired,studies:s.a.array,t:s.a.func.isRequired,dialog:s.a.any,modal:s.a.any}),V(N,\"defaultProps\",{studies:[]});var Y=Object(y.d)([\"Common\",\"ViewportDownloadForm\"])(Object(f.K)(Object(f.J)(Object(C.e)(N))));var J=n(415),H=l.a.redux.actions.setActiveViewportSpecificData,z=Object(r.b)(null,(function(e,t){return{onThumbnailClick:function(n){var r=function(e,t){return Array.isArray(e)&&e.reduce((function(e,t){var n=[];return t&&Array.isArray(t.displaySets)&&(n=t.displaySets),e.concat(n)}),[]).find((function(e){return e.displaySetInstanceUID===t}))||null}(t.studyMetadata,n),i=h.d.services,a=i.LoggerService,o=i.UINotificationService;if(r.isDerived){var s=r.Modality;if(\"SEG\"===s&&h.d){var u=r.getSourceDisplaySet(t.studyMetadata,!0,(function(e){a.error({error:e,message:e.message}),o.show({title:\"DICOM Segmentation Loader\",message:e.message,type:\"error\",autoClose:!0})}));r=u.referencedDisplaySet,u.activatedLabelmapPromise.then((function(e){var t=new CustomEvent(\"extensiondicomsegmentationsegselected\",{detail:{activatedLabelmapIndex:e}});document.dispatchEvent(t)}))}else r=r.getSourceDisplaySet(t.studyMetadata);if(!r){var c=new Error(\"Referenced series for \".concat(s,\" dataset not present.\")),l=\"Referenced series for \".concat(s,\" dataset not present.\");a.error({error:c,message:l}),o.show({autoClose:!1,title:\"Fail to load series\",message:l,type:\"error\"})}}if(!r){var p=new Error(\"Source data not present\");a.error({error:p,message:\"Source data not present\"}),o.show({autoClose:!1,title:\"Fail to load series\",message:\"Source data not present\",type:\"error\"})}if(!1===r.isSOPClassUIDSupported){var d=new Error(\"Modality not supported\");a.error({error:d,message:\"Modality not supported\"}),o.show({autoClose:!1,title:\"Fail to load series\",message:\"Modality not supported\",type:\"error\"})}e(H(r))}}}))(J.a),K=n(1423),Q=(n(1434),function(e){var t=e.from,n=e.isOpen,r=e.children,i=e.width,o=\"right\"===t?\"from-right\":\"from-left\",s=i?{maxWidth:i,marginRight:n?\"0\":-1*Number.parseInt(i)}:{};return a.a.createElement(\"section\",{style:s,className:c()(\"sidepanel\",o,{\"is-open\":n})},r)});Q.propTypes={from:s.a.string.isRequired,isOpen:s.a.bool.isRequired,children:s.a.node,width:s.a.string};var X=Q,Z=n(1426),$=n(117),ee=(n(1422),n(198)),te=n(197),ne=n(3),re=n.n(ne),ie=(n(1436),function(e){var t=e.studies,n=e.options;return Object(i.useEffect)((function(){var e=ee.a.StudyPrefetcher.getInstance(t,n),r=t.map((function(e){return te.a.studyMetadataManager.get(e.StudyInstanceUID)}));e.setStudies(r);var i=function(n){var r=n.detail;if(!r.image.imageId.includes(\"nrrdLoader\")){var i=t.map((function(e){var t=te.a.studyMetadataManager.get(e.StudyInstanceUID),n=t.getDisplaySets();return(!n||n.length<1)&&e.displaySets.forEach((function(e){return t.addDisplaySet(e)})),t}));e.setStudies(i);var a=e.getStudy(r.image),o=e.getSeries(a,r.image),s=e.getInstance(o,r.image);if(a.displaySets&&a.displaySets.length>0){var u=e.getDisplaySetBySOPInstanceUID(a.displaySets,s).displaySetInstanceUID;e.prefetch(r.element,u)}}},a=function(e){e.detail.element.addEventListener(re.a.EVENTS.NEW_IMAGE,i)};return re.a.events.addEventListener(re.a.EVENTS.ELEMENT_ENABLED,a),function(){re.a.events.removeEventListener(re.a.EVENTS.ELEMENT_ENABLED,a),e.destroy()}}),[n,t]),null});ie.propTypes={studies:s.a.array.isRequired,options:s.a.shape({enabled:s.a.bool,order:s.a.string,displaySetCount:s.a.number,preventCache:s.a.bool,prefetchDisplaySetsTimeout:s.a.number,includeActiveDisplaySet:s.a.bool})},ie.defaultProps={options:{order:\"closest\",displaySetCount:1,preventCache:!1,prefetchDisplaySetsTimeout:300,includeActiveDisplaySet:!1}};var ae=ie,oe=l.a.classes.StudyLoadingListener,se=function(e){var t=e.studies;return Object(i.useEffect)((function(){var e=oe.getInstance();return t&&t.length>0&&(e.clear(),e.addStudies(t)),function(){e.clear()}}),[t]),null};function ue(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ue(a,r,i,o,s,\"next\",e)}function s(e){ue(a,r,i,o,s,\"throw\",e)}o(void 0)}))}}function le(e){return(le=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=l.a.utils.studyMetadataManager,he=function(e){function t(e){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,i=de(t).call(this,e),n=!i||\"object\"!==le(i)&&\"function\"!=typeof i?fe(r):i,ve(fe(n),\"state\",{isLeftSidePanelOpen:!0,isRightSidePanelOpen:!1,selectedRightSidePanel:\"\",selectedLeftSidePanel:\"studies\",thumbnails:[],openMeasurements:!1}),ve(fe(n),\"retrieveTimepoints\",(function(e){l.a.log.info(\"retrieveTimepoints\");var t=(new Date).toISOString(),r=(new Date).toISOString();return n.props.studies&&(r=new Date(\"1000-01-01\").toISOString(),n.props.studies.forEach((function(e){var n=v()(e.StudyDate,\"YYYYMMDD\").toISOString();n<t&&(t=n),n>r&&(r=n)}))),Promise.resolve([{timepointType:\"baseline\",timepointId:\"TimepointId\",studyInstanceUIDs:n.props.studyInstanceUIDs,PatientID:e.PatientID,earliestDate:t,latestDate:r,isLocked:!1}])})),ve(fe(n),\"storeTimepoints\",(function(e){return l.a.log.info(\"storeTimepoints\"),Promise.resolve()})),ve(fe(n),\"updateTimepoint\",(function(e,t){return l.a.log.info(\"updateTimepoint\"),Promise.resolve()})),ve(fe(n),\"removeTimepoint\",(function(e){return l.a.log.info(\"removeTimepoint\"),Promise.resolve()})),ve(fe(n),\"disassociateStudy\",(function(e,t){return l.a.log.info(\"disassociateStudy\"),Promise.resolve()})),ve(fe(n),\"onTimepointsUpdated\",(function(e){n.props.onTimepointsUpdated&&n.props.onTimepointsUpdated(e)})),ve(fe(n),\"onMeasurementsUpdated\",(function(e){n.props.onMeasurementsUpdated&&n.props.onMeasurementsUpdated(e)}));var a=n.props.activeServer,o=Object.assign({},a),s={servicesManager:h.d};return l.a.measurements.MeasurementApi.setConfiguration({dataExchange:{retrieve:function(e){return p.a.retrieveMeasurements(e,s)},store:p.a.storeMeasurements},server:o}),l.a.measurements.TimepointApi.setConfiguration({dataExchange:{retrieve:n.retrieveTimepoints,store:n.storeTimepoints,remove:n.removeTimepoint,update:n.updateTimepoint,disassociate:n.disassociateStudy}}),n._getActiveViewport=n._getActiveViewport.bind(fe(n)),n}var n,r,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,e),n=t,(r=[{key:\"componentWillUnmount\",value:function(){this.props.dialog&&this.props.dialog.dismissAll(),document.removeEventListener(\"segmentationLoadingError\",this._updateThumbnails)}},{key:\"componentDidMount\",value:function(){var e=this.props,t=e.studies,n=e.isStudyLoaded,r=e.reload,i=e.isNrrdImage;if(r&&window.location.reload(!1),!0===i)this.setState({thumbnails:[]});else{var a=l.a.measurements,o=a.TimepointApi,s=a.MeasurementApi,u=new o(\"TimepointId\",{onTimepointsUpdated:this.onTimepointsUpdated}),c=new s(u,{onMeasurementsUpdated:this.onMeasurementsUpdated});if(this.currentTimepointId=\"TimepointId\",this.timepointApi=u,this.measurementApi=c,t){var p=t[0]&&t[0].PatientID;u.retrieveTimepoints({PatientID:p}),n&&this.measurementApi.retrieveMeasurements(p,[\"TimepointId\"]);var d=this.props.viewports[this.props.activeViewportIndex],f=d?d.displaySetInstanceUID:void 0;this.setState({thumbnails:Ie(t,f)})}document.addEventListener(\"segmentationLoadingError\",this._updateThumbnails.bind(this),!1)}}},{key:\"componentDidUpdate\",value:function(e){var t=this.props,n=t.studies,r=t.isStudyLoaded,i=t.activeViewportIndex,a=t.viewports;t.reload&&window.location.reload(!1);var o=a[i],s=o?o.displaySetInstanceUID:void 0,u=e.viewports[e.activeViewportIndex],c=u?u.displaySetInstanceUID:void 0;if(n===e.studies&&i===e.activeViewportIndex&&s===c||this.setState({thumbnails:Ie(n,s),activeDisplaySetInstanceUID:s}),r&&r!==e.isStudyLoaded){var l=n[0]&&n[0].PatientID,p=this.currentTimepointId;this.timepointApi.retrieveTimepoints({PatientID:l}),this.measurementApi.retrieveMeasurements(l,[p])}}},{key:\"_updateThumbnails\",value:function(){var e=this.props,t=e.studies,n=e.activeViewportIndex,r=e.viewports[n],i=r?r.displaySetInstanceUID:void 0;this.setState({thumbnails:Ie(t,i),activeDisplaySetInstanceUID:i})}},{key:\"_getActiveViewport\",value:function(){return this.props.viewports[this.props.activeViewportIndex]}},{key:\"_openMeasurementsPanel\",value:function(){var e=null;return h.c.modules[d.a.PANEL].forEach((function(t){t.module.components.forEach((function(t){\"measurement-panel\"===t.id&&(e=t.component)}))})),e}},{key:\"render\",value:function(){var e,t=this,n=null;return this.state.openMeasurements&&\"measurement-panel\"===this.state.selectedRightSidePanel?n=this._openMeasurementsPanel():h.c.modules[d.a.PANEL].forEach((function(r){r.module.components.forEach((function(r){r.id===t.state.selectedRightSidePanel?n=r.component:r.id===t.state.selectedLeftSidePanel&&(e=r.component)}))})),a.a.createElement(a.a.Fragment,null,a.a.createElement(Z.a,{context:\"ToolbarRow\"},a.a.createElement(Y,{activeViewport:this.props.viewports[this.props.activeViewportIndex],isLeftSidePanelOpen:this.state.isLeftSidePanelOpen,isRightSidePanelOpen:this.state.isRightSidePanelOpen,selectedLeftSidePanel:this.state.isLeftSidePanelOpen?this.state.selectedLeftSidePanel:\"\",selectedRightSidePanel:this.state.isRightSidePanelOpen?this.state.selectedRightSidePanel:\"\",openMeasurementsPanel:function(){return t.setState({openMeasurements:!0,isRightSidePanelOpen:!0,selectedRightSidePanel:\"measurement-panel\"})},openSegmentationPanel:function(){return t.setState({isRightSidePanelOpen:!0,selectedRightSidePanel:\"segmentation-panel\"})},handleSidePanelChange:function(e,n){var r=e&&e[0].toUpperCase()+e.slice(1),i=\"is\".concat(r,\"SidePanelOpen\"),a=\"selected\".concat(r,\"SidePanel\"),o=Object.assign({},t.state),s=o[i],u=o[a],c=u===n||null===n;o[a]=n||u,(!s||c)&&(o[i]=!o[i]),t.setState(o)},studies:this.props.studies})),a.a.createElement(C.c.Consumer,null,(function(){return a.a.createElement(se,{studies:t.props.studies})})),a.a.createElement(\"div\",{className:\"FlexboxLayout\"},a.a.createElement(Z.a,{context:\"LeftSidePanel\"},a.a.createElement(X,{from:\"left\",isOpen:this.state.isLeftSidePanelOpen},e?a.a.createElement(e,{viewports:this.props.viewports,studies:this.props.studies,activeIndex:this.props.activeViewportIndex}):a.a.createElement(C.c.Consumer,null,(function(e){var n=e.appConfig.studyPrefetcher,r=t.state.thumbnails;return a.a.createElement(z,{studies:r,studyMetadata:t.props.studies,showThumbnailProgressBar:n&&n.enabled&&n.displayProgress})})))),a.a.createElement(\"div\",{className:c()(\"main-content\")},a.a.createElement(Z.a,{context:\"ViewerMain\"},a.a.createElement(C.c.Consumer,null,(function(e){var n=e.appConfig.studyPrefetcher,r=t.props.studies;return n&&n.enabled&&a.a.createElement(ae,{studies:r,options:n})})),a.a.createElement(K.a,{studies:this.props.studies,isStudyLoaded:this.props.isStudyLoaded}))),a.a.createElement(Z.a,{context:\"RightSidePanel\"},a.a.createElement(X,{from:\"right\",isOpen:this.state.isRightSidePanelOpen},n&&a.a.createElement(n,{isOpen:this.state.isRightSidePanelOpen,viewports:this.props.viewports,studies:this.props.studies,activeIndex:this.props.activeViewportIndex,activeViewport:this.props.viewports[this.props.activeViewportIndex],getActiveViewport:this._getActiveViewport})))))}}])&&pe(n.prototype,r),i&&pe(n,i),t}(i.Component);ve(he,\"propTypes\",{studies:s.a.arrayOf(s.a.shape({StudyInstanceUID:s.a.string.isRequired,StudyDate:s.a.string,PatientID:s.a.string,displaySets:s.a.arrayOf(s.a.shape({displaySetInstanceUID:s.a.string.isRequired,SeriesDescription:s.a.string,SeriesNumber:s.a.number,InstanceNumber:s.a.number,numImageFrames:s.a.number,Modality:s.a.string.isRequired,images:s.a.arrayOf(s.a.shape({getImageId:s.a.func.isRequired}))}))})),studyInstanceUIDs:s.a.array,activeServer:s.a.shape({type:s.a.string,wadoRoot:s.a.string}),onTimepointsUpdated:s.a.func,onMeasurementsUpdated:s.a.func,viewports:s.a.object.isRequired,activeViewportIndex:s.a.number.isRequired,isStudyLoaded:s.a.bool,reload:s.a.bool,dialog:s.a.object,isNrrdImage:s.a.bool});var ge=Object(f.J)(he),be=function(){var e=ce(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,t.Modality&&![\"SEG\",\"SR\",\"RTSTRUCT\",\"RTDOSE\"].includes(t.Modality)&&(i=ye.get(n.StudyInstanceUID),a=i.getDerivedDatasets({referencedSeriesInstanceUID:t.SeriesInstanceUID}),r=a.length),e.abrupt(\"return\",r>0);case 3:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=ce(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.inconsistencyWarnings){e.next=2;break}return e.abrupt(\"return\",t.inconsistencyWarnings);case 2:return n=[],\"SEG\"!==t.Modality?(t.reconstructionIssues&&0!==t.reconstructionIssues.length&&(t.reconstructionIssues.forEach((function(e){switch(e){case $.a.DATASET_4D:n.push(\"The dataset is 4D.\");break;case $.a.VARYING_IMAGESDIMENSIONS:n.push(\"The dataset frames have different dimensions (rows, columns).\");break;case $.a.VARYING_IMAGESCOMPONENTS:n.push(\"The dataset frames have different components (Sample per pixel).\");break;case $.a.VARYING_IMAGESORIENTATION:n.push(\"The dataset frames have different orientation.\");break;case $.a.IRREGULAR_SPACING:n.push(\"The dataset frames have different pixel spacing.\");break;case $.a.MULTIFFRAMES:n.push(\"The dataset is a multiframes.\")}})),n.push(\"The datasets is not a reconstructable 3D volume. MPR mode is not available.\")),t.missingFrames&&(!t.reconstructionIssues||t.reconstructionIssues&&!t.reconstructionIssues.find((function(e){return e===$.a.DATASET_4D})))&&n.push(\"The datasets is missing frames: \"+t.missingFrames+\".\"),!1===t.isSOPClassUIDSupported&&n.push(\"The datasets is not supported.\"),t.inconsistencyWarnings=n):t.loadError&&(n.push(t.segLoadErrorMessagge),t.inconsistencyWarnings=n),e.abrupt(\"return\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(e,t,n){var r=!1,i=e.displaySetInstanceUID;if(\"SEG\"!==e.Modality&&\"RTSTRUCT\"!==e.Modality&&\"RTDOSE\"!==e.Modality)r=n===i;else if(e.getSourceDisplaySet)if(\"SEG\"===e.Modality){var a=e.getSourceDisplaySet(t,!1).referencedDisplaySet;r=!!a&&n===a.displaySetInstanceUID}else{var o=e.getSourceDisplaySet(t,!1);r=!!o&&n===o.displaySetInstanceUID}return r},Ie=function(e,t){return e.map((function(n){var r=n.StudyInstanceUID,i=[];return n.displaySets.map((function(r){if(\"SR\"!==r.Modality&&\"SEG\"!==r.Modality){var a,o=r.displaySetInstanceUID,s=r.SeriesDescription,u=r.numImageFrames,c=r.SeriesNumber;if(r.images&&r.images.length){var l=Math.floor(r.images.length/2);a=r.images[l].getImageId()}var p=Se(r),d=be(r,n);i.push({active:we(r,e,t),imageId:a,altImageText:void 0,displaySetInstanceUID:o,SeriesDescription:s,numImageFrames:u,SeriesNumber:c,hasWarnings:p,hasDerivedDisplaySets:d})}})),{StudyInstanceUID:r,thumbnails:i}}))},De=l.a.redux.actions,Ee=De.setTimepoints,Oe=De.setMeasurements,Pe=function(e){return e.servers.find((function(e){return!0===e.active}))},Re=Object(r.b)((function(e){var t=e.viewports,n=e.servers;return{viewports:t.viewportSpecificData,activeViewportIndex:t.activeViewportIndex,activeServer:Pe(n)}}),(function(e){return{onTimepointsUpdated:function(t){e(Ee(t))},onMeasurementsUpdated:function(t){e(Oe(t))}}}))(ge);t.a=Re},1422:function(e,t,n){},1423:function(e,t,n){\"use strict\";var r=n(22),i=(n(1430),n(259)),a=n(0),o=n.n(a),s=(n(1431),n(1)),u=n.n(s),c=n(28),l=n.n(c),p=n(197),d=n(10),f=n(300);n(1432);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var v=function(e){var t=e.children,n=e.onDrop,r=e.viewportIndex,i=e.className,a=m(Object(f.d)({accept:\"thumbnail\",drop:function(e,t){var i=t.canDrop(),a=t.isOver();if(i&&a&&n){var o=e.StudyInstanceUID,s=e.displaySetInstanceUID;n({viewportIndex:r,StudyInstanceUID:o,displaySetInstanceUID:s})}},collect:function(e){return{highlighted:e.canDrop(),hovered:e.isOver()}}}),2),s=a[0],u=s.hovered,c=s.highlighted,p=a[1];return o.a.createElement(\"div\",{className:l()(\"viewport-drop-target\",{hovered:u},{highlighted:c},i),ref:p,\"data-cy\":\"viewport-container-\".concat(r)},t)};v.propTypes={children:u.a.node.isRequired,viewportIndex:u.a.number.isRequired,onDrop:u.a.func.isRequired,className:u.a.string};var y=v;var h=n(1433),g=n.n(h),b=p.a.loadAndCacheDerivedDisplaySets,S=function(e){var t=e.activeViewportIndex,n=e.availablePlugins,r=e.defaultPlugin,i=e.layout,s=e.numRows,u=e.numColumns,c=e.setViewportData,p=e.studies,f=e.viewportData,m=e.children,v=e.isStudyLoaded,h=100/s,S=100/u;if(!f||!f.length)return null;var w=Object(d.I)(),I=Object(d.G)();Object(a.useEffect)((function(){v&&f.forEach((function(e){b(e,p,I,w)}))}),[p,f,v,w,I]);var D=o.a.useMemo((function(){return i.viewports.map((function(e,i){var a=f[i];if(!a)return null;var s={displaySet:a,studies:p},u=!e.plugin&&a&&a.plugin?a.plugin:e.plugin,d=function(e,t,n,r,i,a){if(e.displaySet){var s=r[i=i||a];if(!s)throw new Error(\"No Viewport Component available for name \".concat(i,\".\\n         Available plugins: \").concat(JSON.stringify(r)));return o.a.createElement(s,{viewportData:e,viewportIndex:t,children:[n]})}return o.a.createElement(g.a,null)}(s,i,m,n,u,r);return o.a.createElement(y,{onDrop:c,viewportIndex:i,className:l()(\"viewport-container\",{active:t===i}),key:i},d)}))}),[i,f,p,m,n,r,c,t]);return o.a.createElement(\"div\",{\"data-cy\":\"viewprt-grid\",style:{display:\"grid\",gridTemplateRows:\"repeat(\".concat(s,\", \").concat(h,\"%)\"),gridTemplateColumns:\"repeat(\".concat(u,\", \").concat(S,\"%)\"),height:\"100%\",width:\"100%\"}},D)};S.propTypes={viewportData:u.a.array.isRequired,supportsDrop:u.a.bool.isRequired,activeViewportIndex:u.a.number.isRequired,layout:u.a.object.isRequired,availablePlugins:u.a.object.isRequired,setViewportData:u.a.func.isRequired,studies:u.a.array,children:u.a.node,defaultPlugin:u.a.string,numRows:u.a.number.isRequired,numColumns:u.a.number.isRequired},S.defaultProps={viewportData:[],numRows:1,numColumns:1,layout:{viewports:[{}]},activeViewportIndex:0,supportsDrop:!0,availablePlugins:{DefaultViewport:function(e){return React.createElement(\"div\",null,JSON.stringify(e))}},defaultPlugin:\"defaultViewportPlugin\"};var w=S,I=n(760),D=n(19),E=n(793),O=n.n(E),P=O()((function(e){var t={};return e.forEach((function(e){t[e.extensionId]=e.module})),t})),R=Object(D.b)((function(e){var t,n=i.c.modules[I.a.VIEWPORT],r=P(n);n.length&&(t=n[0].extensionId);var a=e.viewports;return{numRows:a.numRows,numColumns:a.numColumns,layout:a.layout,activeViewportIndex:a.activeViewportIndex,availablePlugins:r,defaultPlugin:t}}),null)(w),T=n(1421),C=n.n(T);function x(e){return(x=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=n(795),N=O()(C.a),_=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,a=k(t).call(this,e),n=!a||\"object\"!==x(a)&&\"function\"!=typeof a?U(r):a,M(U(n),\"fillEmptyViewportPanes\",(function(){var e=[],t=n.props,r=t.layout,i=t.viewportSpecificData,a=n.state.displaySets;if(a&&a.length){for(var o=0;o<r.viewports.length;o++){var s=i[o];if(s&&s.StudyInstanceUID&&s.displaySetInstanceUID)e.push({StudyInstanceUID:s.StudyInstanceUID,displaySetInstanceUID:s.displaySetInstanceUID});else{var u=a.find((function(t){return!e.some((function(e){return e.displaySetInstanceUID===t.displaySetInstanceUID}))}))||a[a.length-1];e.push(u)}}e.forEach((function(e,t){e&&e.StudyInstanceUID&&n.setViewportData({viewportIndex:t,StudyInstanceUID:e.StudyInstanceUID,displaySetInstanceUID:e.displaySetInstanceUID})}))}})),M(U(n),\"setViewportData\",(function(e){var t=e.viewportIndex,r=e.StudyInstanceUID,a=e.displaySetInstanceUID,o=n.findDisplaySet(n.props.studies,r,a),s=i.d.services,u=s.LoggerService,c=s.UINotificationService;if(o.isDerived){if(\"SEG\"===o.Modality&&i.d){var l=o.getSourceDisplaySet(n.props.studies,!0,(function(e){u.error({error:e,message:e.message}),c.show({title:\"DICOM Segmentation Loader\",message:e.message,type:\"error\",autoClose:!0})}));o=l.referencedDisplaySet,l.activatedLabelmapPromise.then((function(e){var t=new CustomEvent(\"extensiondicomsegmentationsegselected\",{detail:{activatedLabelmapIndex:e}});document.dispatchEvent(t)}))}else o=o.getSourceDisplaySet(n.props.studies);if(!o){var p=new Error(\"Source data not present\"),d=\"Source data not present\";u.error({error:p,message:d}),c.show({autoClose:!1,title:\"Fail to load series\",message:d,type:\"error\"})}}if(!1===o.isSOPClassUIDSupported){var f=new Error(\"Modality not supported\");u.error({error:f,message:\"Modality not supported\"}),c.show({autoClose:!1,title:\"Fail to load series\",message:\"Modality not supported\",type:\"error\"})}n.props.setViewportSpecificData(t,o)})),n.state={displaySets:[]},V.registerNRRDImageLoader(),n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,e),n=t,(r=[{key:\"getDisplaySets\",value:function(e){var t=[];return e.forEach((function(e){e.displaySets.forEach((function(e){e.plugin||(e.plugin=\"cornerstone\"),t.push(e)}))})),t}},{key:\"findDisplaySet\",value:function(e,t,n){var r=e.find((function(e){return e.StudyInstanceUID===t}));if(r)return r.displaySets.find((function(e){return e.displaySetInstanceUID===n}))}},{key:\"componentDidMount\",value:function(){if(this.props.studies){var e=this.getDisplaySets(this.props.studies);this.setState({displaySets:e},this.fillEmptyViewportPanes)}}},{key:\"componentDidUpdate\",value:function(e){var t=e.layout.viewports.length,n=this.props.layout.viewports.length,r=this.props.layout.viewports.some((function(e){return!!e.vtk}));if(this.props.studies!==e.studies||n!==t&&!r){var i=this.getDisplaySets(this.props.studies);this.setState({displaySets:i},this.fillEmptyViewportPanes)}}},{key:\"render\",value:function(){var e=this.props.viewportSpecificData,t=N(e);return o.a.createElement(\"div\",{className:\"ViewerMain\"},this.state.displaySets.length&&o.a.createElement(R,{isStudyLoaded:this.props.isStudyLoaded,studies:this.props.studies,viewportData:t,setViewportData:this.setViewportData}))}},{key:\"componentWillUnmount\",value:function(){var e=this,t=this.props.viewportSpecificData;Object.keys(t).forEach((function(t){e.props.clearViewportSpecificData(t)}))}}])&&j(n.prototype,r),a&&j(n,a),t}(a.Component);M(_,\"propTypes\",{activeViewportIndex:u.a.number.isRequired,studies:u.a.array,viewportSpecificData:u.a.object.isRequired,layout:u.a.object.isRequired,setViewportSpecificData:u.a.func.isRequired,clearViewportSpecificData:u.a.func.isRequired,isStudyLoaded:u.a.bool});var L=_,B=r.a.redux.actions,q=B.setViewportSpecificData,F=B.clearViewportSpecificData,G=Object(D.b)((function(e){var t=e.viewports;return{activeViewportIndex:t.activeViewportIndex,layout:t.layout,viewportSpecificData:t.viewportSpecificData,viewports:e.viewports}}),(function(e){return{setViewportSpecificData:function(t,n){e(q(t,n))},clearViewportSpecificData:function(){e(F())}}}))(L);t.a=G},1424:function(e,t,n){\"use strict\";var r=n(29),i=n.n(r);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),r=void 0,(n=\"fileType\")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:\"loadFile\",value:function(e,t){}},{key:\"getDataset\",value:function(e,t){}},{key:\"getStudies\",value:function(e,t){}}])&&a(t.prototype,n),r&&a(t,r),e}();function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=new(function(e){function t(){var e,n,r,i,a,o,u;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var p=arguments.length,d=new Array(p),f=0;f<p;f++)d[f]=arguments[f];return r=this,n=!(i=(e=c(t)).call.apply(e,[this].concat(d)))||\"object\"!==s(i)&&\"function\"!=typeof i?l(r):i,a=l(n),u=\"application/pdf\",(o=\"fileType\")in a?Object.defineProperty(a,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[o]=u,n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(r=[{key:\"loadFile\",value:function(e,t){return i.a.wadouri.loadFileRequest(t)}},{key:\"getDataset\",value:function(e,t){var n={};return n.imageId=e.imageId||t,n}},{key:\"getStudies\",value:function(e,t){return this.getDefaultStudy(t)}},{key:\"getDefaultStudy\",value:function(e){return{StudyInstanceUID:\"\",StudyDate:\"\",StudyTime:\"\",AccessionNumber:\"\",ReferringPhysicianName:\"\",PatientName:\"\",PatientID:\"\",PatientBirthdate:\"\",PatientSex:\"\",StudyId:\"\",StudyDescription:\"\",series:[{SeriesInstanceUID:\"\",SeriesDescription:\"\",SeriesNumber:\"\",instances:[{metadata:{SOPInstanceUID:\"\",SOPClassUID:\"1.2.840.10008.5.1.4.1.1.104.1\",Rows:\"\",Columns:\"\",NumberOfFrames:0,InstanceNumber:1},getImageId:function(){return e},isLocalFile:!0}]}]}}}])&&u(n.prototype,r),a&&u(n,a),t}(o)),f=n(46);function m(e){return(m=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=n(22).a.cornerstone.metadataProvider,S=new(function(e){function t(){var e,n,r,i,a,o,s;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return r=this,n=!(i=(e=y(t)).call.apply(e,[this].concat(c)))||\"object\"!==m(i)&&\"function\"!=typeof i?h(r):i,a=h(n),s=\"application/dicom\",(o=\"fileType\")in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:\"loadFile\",value:function(e,t){return i.a.wadouri.loadFileRequest(t)}},{key:\"getDataset\",value:function(e,t){var n={};try{var r=f.b.data.DicomMessage.readFile(e);n=f.b.data.DicomMetaDictionary.naturalizeDataset(r.dict),b.addInstance(n),n._meta=f.b.data.DicomMetaDictionary.namifyDataset(r.meta)}catch(e){console.error(\"Error reading dicom file\",e)}return n.imageId=t,n}},{key:\"getStudies\",value:function(e,t){return this.getStudyFromDataset(e)}},{key:\"getStudyFromDataset\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.StudyInstanceUID,n=e.StudyDate,r=e.StudyTime,i=e.AccessionNumber,a=e.ReferringPhysicianName,o=e.PatientName,s=e.PatientID,u=e.PatientBirthDate,c=e.PatientSex,l=e.StudyID,p=e.StudyDescription,d=e.SeriesInstanceUID,f=e.SeriesDescription,m=e.SeriesNumber,v=e.imageId,y={metadata:e,url:v},h={SeriesInstanceUID:d,SeriesDescription:f,SeriesNumber:m,instances:[y]},g={StudyInstanceUID:t,StudyDate:n,StudyTime:r,AccessionNumber:i,ReferringPhysicianName:a,PatientName:o,PatientID:s,PatientBirthDate:u,PatientSex:c,StudyID:l,StudyDescription:p,series:[h]};return g}}])&&v(n.prototype,r),a&&v(n,a),t}(o));function w(e){return(w=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function I(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){function t(e){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,n=!(i=O(t).call(this))||\"object\"!==w(i)&&\"function\"!=typeof i?P(r):i,T(P(n),\"fileType\",void 0),T(P(n),\"loader\",void 0);var a=e&&e.type;return n.loader=n.getLoader(a),n.fileType=n.loader.fileType,n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,e),n=t,a=[{key:\"groupSeries\",value:function(e){var t=function(e,t,n){var r=1;return e.reduce((function(e,i){var a,o=i[t],s=i[n];return e[o=o||\"\"+r++]||(e[o]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i),e[o][n]=[]),(a=e[o][n]).push.apply(a,I(s)),e}),{})};return Object.values(t(e,\"StudyInstanceUID\",\"series\")).map((function(e){var n=t(e.series,\"SeriesInstanceUID\",\"instances\");return e.series=Object.values(n),e}))}}],(r=[{key:\"addFile\",value:function(e){return i.a.wadouri.fileManager.add(e)}},{key:\"loadFile\",value:function(e,t){return this.loader.loadFile(e,t)}},{key:\"getDataset\",value:function(e,t){return this.loader.getDataset(e,t)}},{key:\"getStudies\",value:function(e,t){return this.loader.getStudies(e,t)}},{key:\"getLoader\",value:function(e){return\"application/pdf\"===e?d:S}}])&&E(n.prototype,r),a&&E(n,a),t}(o);function x(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){x(a,r,i,o,s,\"next\",e)}function s(e){x(a,r,i,o,s,\"throw\",e)}o(void 0)}))}}n.d(t,\"a\",(function(){return U}));var k=function(){var e=j(regeneratorRuntime.mark((function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new C(t),r=n.addFile(t),e.next=5,n.loadFile(t,r);case 5:return i=e.sent,e.next=8,n.getDataset(i,r);case 8:return a=e.sent,e.next=11,n.getStudies(a,r);case 11:return o=e.sent,e.abrupt(\"return\",o);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.name,\":Error when trying to load and process local files:\",e.t0.message);case 18:case\"end\":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();function U(e){return A.apply(this,arguments)}function A(){return(A=j(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(k),e.next=3,Promise.all(n);case 3:return r=e.sent,e.abrupt(\"return\",C.groupSeries(r.flat()));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}},1426:function(e,t,n){\"use strict\";var r=n(0),i=n.n(r),a=n(28),o=n.n(a),s=n(1),u=n.n(s),c=n(10),l=n(259);n(1435);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}var d=l.d.services.UIModalService,f=function(e){var t=e.context,n=e.children;return i.a.createElement(c.d,{fallbackComponent:function(){return i.a.createElement(\"div\",{className:\"ErrorFallback\",role:\"alert\"},i.a.createElement(\"p\",null,\"Error rendering \",t,\". \",i.a.createElement(\"br\",null),\" Check the browser console for more details.\"))},context:t,onError:function(e,n){d.show({content:function(){var a=p(Object(r.useState)(!1),2),s=a[0],u=a[1];return i.a.createElement(\"div\",{className:\"ErrorFallback\",role:\"alert\"},i.a.createElement(\"div\",{className:\"ErrorBoundaryDialog\"},i.a.createElement(\"h3\",{className:\"ErrorBoundaryDialogTitle\"},t,\": \",i.a.createElement(\"span\",null,e.message))),i.a.createElement(\"button\",{className:\"btn btn-primary btn-sm ErrorBoundaryDialogButton\",onClick:function(){return u((function(e){return!e}))}},i.a.createElement(c.g,{name:\"chevron-down\",className:o()(\"ErrorBoundaryDialogIcon\",{opened:s})}),\"Stack Trace\"),s&&i.a.createElement(\"pre\",null,n))},title:\"Something went wrong in \".concat(t)})}},n)};f.propTypes={context:u.a.string.isRequired,children:u.a.node};var m=f;t.a=m},1429:function(e,t,n){},1430:function(e,t,n){},1431:function(e,t,n){},1432:function(e,t,n){},1433:function(e,t){},1434:function(e,t,n){},1435:function(e,t,n){},1436:function(e,t,n){}}]);","extractedComments":[]}