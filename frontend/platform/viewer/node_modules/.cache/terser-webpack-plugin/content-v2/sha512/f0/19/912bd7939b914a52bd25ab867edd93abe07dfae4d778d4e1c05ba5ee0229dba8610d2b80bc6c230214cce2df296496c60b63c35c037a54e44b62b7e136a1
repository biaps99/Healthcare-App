{"map":"{\"version\":3,\"sources\":[\"7.bundle.54ee6dd9848b9d2f842c.js\"],\"names\":[\"window\",\"push\",\"1382\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"es\",\"react\",\"react_default\",\"n\",\"src\",\"prop_types\",\"prop_types_default\",\"querystring_es3\",\"querystring_es3_default\",\"App\",\"ConnectedViewer\",\"ConnectedViewerRetrieveStudyData\",\"NotFound\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"asyncGeneratorStep\",\"gen\",\"resolve\",\"reject\",\"_next\",\"_throw\",\"key\",\"arg\",\"info\",\"value\",\"error\",\"done\",\"Promise\",\"then\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_assertThisInitialized\",\"self\",\"ReferenceError\",\"_setPrototypeOf\",\"p\",\"_defineProperty\",\"log\",\"metadata\",\"studyMetadataManager\",\"utils\",\"OHIFStudyMetadata\",\"StandaloneRouting_StandaloneRouting\",\"_Component\",\"StandaloneRouting\",\"_getPrototypeOf2\",\"_this\",\"call\",\"instance\",\"Constructor\",\"TypeError\",\"_classCallCheck\",\"this\",\"_len\",\"arguments\",\"args\",\"Array\",\"_key\",\"apply\",\"concat\",\"studies\",\"server\",\"studyInstanceUIDs\",\"seriesInstanceUIDs\",\"loading\",\"protoProps\",\"staticProps\",\"fn\",\"_componentDidMount\",\"subClass\",\"superClass\",\"create\",\"_inherits\",\"query\",\"_this2\",\"url\",\"Error\",\"oReq\",\"XMLHttpRequest\",\"addEventListener\",\"warn\",\"event\",\"status\",\"responseText\",\"JSON\",\"stringify\",\"data\",\"parse\",\"servers\",\"dicomWeb\",\"type\",\"activateServer\",\"split\",\"StudyInstanceUID\",\"SeriesInstanceUID\",\"metadataProvider\",\"cornerstone\",\"forEach\",\"study\",\"series\",\"instances\",\"imageId\",\"naturalizedDicom\",\"addInstance\",\"addImageIdToUIDs\",\"SOPInstanceUID\",\"open\",\"setRequestHeader\",\"send\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"search\",\"_ref\",\"_mapStudiesToNewForma\",\"updatedStudies\",\"updatedStudiesInstanceUIDs\",\"wrap\",\"_context\",\"prev\",\"next\",\"location\",\"slice\",\"a\",\"parseQueryAndRetrieveDICOMWebData\",\"sent\",\"StandaloneRouting_mapStudiesToNewFormat\",\"setState\",\"t0\",\"message\",\"stop\",\"err\",\"undefined\",\"state\",\"createElement\",\"showGoBackButton\",\"object\",\"store\",\"setServers\",\"func\",\"purge\",\"uniqueStudyUIDs\",\"Set\",\"map\",\"studyMetadata\",\"sopClassHandlerModules\",\"modules\",\"displaySets\",\"createDisplaySets\",\"add\",\"from\",\"routes_StandaloneRouting\",\"ConnectedStandaloneRouting\",\"dispatch\",\"1455\",\"exports\",\"decode\",\"encode\",\"1456\",\"hasOwnProperty\",\"prop\",\"qs\",\"sep\",\"eq\",\"options\",\"regexp\",\"maxKeys\",\"len\",\"kstr\",\"vstr\",\"k\",\"v\",\"x\",\"replace\",\"idx\",\"indexOf\",\"substr\",\"decodeURIComponent\",\"isArray\",\"xs\",\"toString\",\"1457\",\"stringifyPrimitive\",\"isFinite\",\"name\",\"objectKeys\",\"ks\",\"encodeURIComponent\",\"join\",\"f\",\"res\",\"keys\"],\"mappings\":\"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\"}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1382:function(e,t,n){\"use strict\";n.r(t);var r=n(19),s=n(0),o=n.n(s),a=n(22),i=n(1),u=n.n(i),c=n(1455),p=n.n(c),d=n(265),f=n(1430),l=n(1431),y=n(422);function v(e){return(v=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function I(e,t,n,r,s,o,a){try{var i=e[o](a),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,s)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=a.a.log,D=a.a.metadata,S=a.a.utils.studyMetadataManager,O=D.OHIFStudyMetadata,j=function(e){function t(){var e,n,r,s;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=this,n=!(s=(e=b(t)).call.apply(e,[this].concat(a)))||\"object\"!==v(s)&&\"function\"!=typeof s?m(r):s,U(m(n),\"state\",{studies:null,server:null,studyInstanceUIDs:null,seriesInstanceUIDs:null,error:null,loading:!0}),n}var n,r,s,i,u;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:\"parseQueryAndRetrieveDICOMWebData\",value:function(e){var t=this;return new Promise((function(n,r){var s=e.url;if(!s)return r(new Error(\"No URL was specified. Use ?url=$yourURL\"));var o=new XMLHttpRequest;o.addEventListener(\"error\",(function(e){g.warn(\"An error occurred while retrieving the JSON data\"),r(e)})),o.addEventListener(\"load\",(function(s){404===s.target.status&&r(new Error(\"No JSON data found\")),o.responseText||(g.warn(\"Response was undefined\"),r(new Error(\"Response was undefined\"))),g.info(JSON.stringify(o.responseText,null,2));var i=JSON.parse(o.responseText);if(i.servers){e.studyInstanceUIDs||(g.warn(\"No study instance uids specified\"),r(new Error(\"No study instance uids specified\")));var u=i.servers.dicomWeb[0];u.type=\"dicomWeb\",g.warn(\"Activating server\",u),t.props.activateServer(u);var c=e.studyInstanceUIDs.split(\";\"),p=e.seriesInstanceUIDs?e.seriesInstanceUIDs.split(\";\"):[];n({server:u,studyInstanceUIDs:c,seriesInstanceUIDs:p})}else{var d,f,l=a.a.cornerstone.metadataProvider;i.studies.forEach((function(e){d=e.StudyInstanceUID,e.series.forEach((function(e){f=e.SeriesInstanceUID,e.instances.forEach((function(e){var t=e.url,n=e.metadata;l.addInstance(n),l.addImageIdToUIDs(t,{StudyInstanceUID:d,SeriesInstanceUID:f,SOPInstanceUID:n.SOPInstanceUID})}))}))})),n({studies:i.studies,studyInstanceUIDs:[]})}})),g.info(\"Sending Request to: \".concat(s)),o.open(\"GET\",s),o.setRequestHeader(\"Accept\",\"application/json\"),o.send()}))}},{key:\"componentDidMount\",value:(i=regeneratorRuntime.mark((function e(){var t,n,r,s,o,a,i,u,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(t=this.props.location.search).slice(1,t.length),n=p.a.parse(t),e.next=6,this.parseQueryAndRetrieveDICOMWebData(n);case 6:r=e.sent,s=r.server,o=r.studies,a=r.studyInstanceUIDs,i=r.seriesInstanceUIDs,o&&(u=R(o),c=u.studies,d=u.studyInstanceUIDs,o=c,a=d),this.setState({studies:o,server:s,studyInstanceUIDs:a,seriesInstanceUIDs:i,loading:!1}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),this.setState({error:e.t0.message,loading:!1});case 18:case\"end\":return e.stop()}}),e,this,[[0,15]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var s=i.apply(e,t);function o(e){I(s,n,r,o,a,\"next\",e)}function a(e){I(s,n,r,o,a,\"throw\",e)}o(void 0)}))},function(){return u.apply(this,arguments)})},{key:\"render\",value:function(){var e=this.state.error?\"Error: \".concat(JSON.stringify(this.state.error)):\"Loading...\";return this.state.error||this.state.loading?o.a.createElement(y.a,{message:e,showGoBackButton:this.state.error}):this.state.studies?o.a.createElement(f.a,{studies:this.state.studies}):o.a.createElement(l.a,{studyInstanceUIDs:this.state.studyInstanceUIDs,seriesInstanceUIDs:this.state.seriesInstanceUIDs,server:this.state.server})}}])&&h(n.prototype,r),s&&h(n,s),t}(s.Component);U(j,\"propTypes\",{location:u.a.object,store:u.a.object,setServers:u.a.func});var R=function(e){S.purge();var t=new Set;return{studies:e.map((function(e){var n=new O(e,e.StudyInstanceUID),r=d.c.modules.sopClassHandlerModule;return e.displaySets=e.displaySets||n.createDisplaySets(r),S.add(n),t.add(e.StudyInstanceUID),e})),studyInstanceUIDs:Array.from(t)}},E=j,A=Object(r.b)(null,(function(e){return{activateServer:function(t){e({type:\"ACTIVATE_SERVER\",server:t})}}}))(E);t.default=A},1455:function(e,t,n){\"use strict\";t.decode=t.parse=n(1456),t.encode=t.stringify=n(1457)},1456:function(e,t,n){\"use strict\";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||\"&\",n=n||\"=\";var a={};if(\"string\"!=typeof e||0===e.length)return a;var i=/\\+/g;e=e.split(t);var u=1e3;o&&\"number\"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var p=0;p<c;++p){var d,f,l,y,v=e[p].replace(i,\"%20\"),I=v.indexOf(n);I>=0?(d=v.substr(0,I),f=v.substr(I+1)):(d=v,f=\"\"),l=decodeURIComponent(d),y=decodeURIComponent(f),r(a,l)?s(a[l])?a[l].push(y):a[l]=[a[l],y]:a[l]=y}return a};var s=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)}},1457:function(e,t,n){\"use strict\";var r=function(e){switch(typeof e){case\"string\":return e;case\"boolean\":return e?\"true\":\"false\";case\"number\":return isFinite(e)?e:\"\";default:return\"\"}};e.exports=function(e,t,n,i){return t=t||\"&\",n=n||\"=\",null===e&&(e=void 0),\"object\"==typeof e?o(a(e),(function(a){var i=encodeURIComponent(r(a))+n;return s(e[a])?o(e[a],(function(e){return i+encodeURIComponent(r(e))})).join(t):i+encodeURIComponent(r(e[a]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):\"\"};var s=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}}]);","extractedComments":[]}